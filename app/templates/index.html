{% extends "base.html" %}

{% block title %}Popular Movies{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1>Popular Movies</h1>

    <!-- ðŸ”Ž ÐŸÐ¾ÑˆÑƒÐº -->
    <div class="row mb-4">
        <div class="col-md-6">
            <input type="text" id="search-input" class="form-control" placeholder="Search movie by title...">
        </div>
        <div class="col-md-2">
            <button id="search-button" class="btn btn-primary w-100">Search</button>
        </div>
    </div>

    <!-- Ð¡Ð¾Ñ€Ñ‚ÑƒÐ²Ð°Ð½Ð½Ñ -->
    <div class="row mb-4">
        <div class="col-md-4">
            <select id="sort-select" class="form-select">
                <option value="popularity" selected>Sort by Popularity</option>
                <option value="release">Sort by Release Date</option>
                <option value="imdb_score">Sort by IMDb Score</option>
            </select>
        </div>
        <div class="col-md-4 d-flex align-items-center">
            <div class="form-check me-3">
                <input class="form-check-input" type="radio" name="sort-order" id="descending" value="desc" checked>
                <label class="form-check-label" for="descending">
                    Descending
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="sort-order" id="ascending" value="asc">
                <label class="form-check-label" for="ascending">
                    Ascending
                </label>
            </div>
        </div>
    </div>

    <!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº Ñ„Ñ–Ð»ÑŒÐ¼Ñ–Ð² -->
    <div id="movie-list" class="list-group">
        <!-- Ð¤Ñ–Ð»ÑŒÐ¼Ð¸ Ð´Ð¾Ð´Ð°Ñ” JavaScript -->
    </div>

    <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° "ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚Ð¸ Ñ‰Ðµ" -->
    <div class="d-grid mt-4">
        <button id="load-more" class="btn btn-primary">Show More</button>
    </div>
</div>

<!-- ÐŸÐµÑ€ÐµÐ´Ð°Ñ‡Ð° Ð´Ð°Ð½Ð¸Ñ… Ñƒ JS Ñ‡ÐµÑ€ÐµÐ· Ð³Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ñ– Ð·Ð¼Ñ–Ð½Ð½Ñ– -->
<script>
    window.movies = {{ movies_json | safe }};
    window.isAuthenticated = {{ current_user.is_authenticated | tojson | safe }};
</script>

<!-- ÐŸÑ–Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð° -->
<script src="{{ url_for('static', filename='js/main.js') }}"></script>

{% endblock %}
